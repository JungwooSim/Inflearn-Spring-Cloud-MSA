"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[2762],{"./public/app/plugins/datasource/prometheus/add_label_to_query.ts":(e,t,s)=>{s.d(t,{F2:()=>l,ZP:()=>c});var n=s("../../opt/drone/yarncache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),i=s("./public/app/plugins/datasource/prometheus/promql.ts");const r=[...i.YO,...i.fP,...i.Os],a=/([A-Za-z:][\w:]*)\b(?![\]{=!",])/g,o=/(\$)?{([^{]*)}/g;function l(e,t,s,n,l){if(!t||!s)throw new Error("Need label to add to query.");const h=s===1/0?"+Inf":s.toString();let c;e=e.replace(a,((t,s,n)=>{const a=function(e,t,s,n,a){const o=function(e,t,s,n){const i=e.slice(t).indexOf(s),r=e.slice(t).indexOf(n);return r>-1&&(-1===i||i>r)}(e,s,"{","}"),l=n&&i.fP.indexOf(n)>-1,h=t.endsWith(":"),u='"'===e[s-1],c="$"===e[s-1],p=["s","m","h","d","w"].includes(t)&&Boolean(Number(e[s-1]));if(!(a||o||h||l||u||c||p||-1!==r.indexOf(t)))return!0;return!1}(e,s,n,c,l);return c=s,a?`${s}{}`:s}));let p=o.exec(e);const f=[];let g=0,m="";for(;p;){const s=e.slice(g,p.index);if(g=p.index+p[2].length+2,m=e.slice(p.index+p[0].length),p[1])f.push(s),f.push(p[0]);else{const e=u(p[2],t,h,n);f.push(s,e)}p=o.exec(e)}return f.push(m),f.join("")}const h=/(\w+)\s*(=|!=|=~|!~)\s*("[^"]*")/g;function u(e,t,s,i){const r=[];if(e){let t=h.exec(e);for(;t;)r.push({key:t[1],operator:t[2],value:t[3]}),t=h.exec(e)}const a=i||"=";r.push({key:t,operator:a,value:`"${s}"`});return`{${(0,n.chain)(r).uniqWith(n.isEqual).compact().sortBy("key").map((({key:e,operator:t,value:s})=>`${e}${t}${s}`)).value().join(",")}}`}const c=l},"./public/app/plugins/datasource/prometheus/language_provider.ts":(e,t,s)=>{s.d(t,{ZK:()=>p,ZP:()=>d});var n=s("../../opt/drone/yarncache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js"),i=s("../../opt/drone/yarncache/lru-cache-npm-6.0.0-b4c8668fe1-f97f499f89.zip/node_modules/lru-cache/index.js"),r=s.n(i),a=s("./packages/grafana-data/src/index.ts"),o=s("./packages/grafana-ui/src/index.ts"),l=s("./public/app/plugins/datasource/prometheus/language_utils.ts"),h=s("./public/app/plugins/datasource/prometheus/promql.ts");function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c=["job","instance"],p=1e4,f=e=>({label:e}),g=e=>(e.kind="function",e);const m=/(="|!="|=~"|!~"|\{|\[|\(|\+|-|\/|\*|%|\^|\band\b|\bor\b|\bunless\b|==|>=|!=|<=|>|<|=|~|,)/;class d extends a.LanguageProvider{constructor(e,t){super(),u(this,"histogramMetrics",void 0),u(this,"timeRange",void 0),u(this,"metrics",void 0),u(this,"metricsMetadata",void 0),u(this,"datasource",void 0),u(this,"labelKeys",[]),u(this,"labelsCache",new(r())(10)),u(this,"request",(async(e,t,s={})=>{try{return(await this.datasource.metadataRequest(e,s)).data.data}catch(e){console.error(e)}return t})),u(this,"start",(async()=>(this.datasource.lookupsDisabled||(await this.fetchLabels(),this.metrics=await this.fetchLabelValues("__name__")||[],this.metricsMetadata=(0,l.I4)(await this.request("/api/v1/metadata",{})),this.histogramMetrics=(0,l.NO)(this.metrics).sort()),[]))),u(this,"provideCompletionItems",(async({prefix:e,text:t,value:s,labelKey:n,wrapperClasses:i},r={})=>{const a={suggestions:[]};if(!s)return a;const o=0===s.document.text.length,l=s.document.getTextsAtRange(s.selection),h=1===l.size?l.first().getText():null,u=h?h[s.selection.anchor.offset]:null,c=i.length>3,p=e&&!c,f=!u||")"===u,g=e&&!t.match(/^[\]})\s]+$/)&&f,m=t.match(/[+\-*/^%]/);return i.includes("context-range")?this.getRangeCompletionItems():i.includes("context-labels")?this.getLabelCompletionItems({prefix:e,text:t,value:s,labelKey:n,wrapperClasses:i}):i.includes("context-aggregation")?this.getAggregationCompletionItems(s):o?this.getEmptyCompletionItems(r):p&&f&&!m?this.getBeginningCompletionItems(r):p&&g?this.getTermCompletionItems():a})),u(this,"getBeginningCompletionItems",(e=>({suggestions:[...this.getEmptyCompletionItems(e).suggestions,...this.getTermCompletionItems().suggestions]}))),u(this,"getEmptyCompletionItems",(e=>{const{history:t}=e,s=[];if(t&&t.length){const e=(0,n.chain)(t).map((e=>e.query.expr)).filter().uniq().take(5).map(f).map((e=>function(e,t){const s=Date.now()-864e5,n=t.filter((t=>t.ts>s&&t.query===e.label)),i=n.length,r=n[0];let o=`Queried ${i} times in the last 24h.`;r&&(o=`${o} Last queried ${(0,a.dateTime)(r.ts).fromNow()}.`);return Object.assign({},e,{documentation:o})}(e,t))).value();s.push({searchFunctionType:o.SearchFunctionType.Prefix,skipSort:!0,label:"History",items:e})}return{suggestions:s}})),u(this,"getTermCompletionItems",(()=>{const{metrics:e,metricsMetadata:t}=this,s=[];return s.push({searchFunctionType:o.SearchFunctionType.Prefix,label:"Functions",items:h.r8.map(g)}),e&&e.length&&s.push({label:"Metrics",items:e.map((e=>function(e,t){const s={label:e};if(t&&t[e]){const{type:n,help:i}=t[e];s.documentation=`${n.toUpperCase()}: ${i}`}return s}(e,t))),searchFunctionType:o.SearchFunctionType.Fuzzy}),{suggestions:s}})),u(this,"getAggregationCompletionItems",(async e=>{const t=[];let s;const n=e.document.getBlocks().reduce(((t,n)=>{if(void 0===t)return"";if(!n)return t;const i=null==n?void 0:n.getText();return e.anchorBlock.key===n.key&&(s=e.selection.anchor.offset+t.length),t+i}),""),i=n.lastIndexOf("(",s);let r=n.lastIndexOf("(",i-1),a=n.indexOf(")",r);if(-1===r){const e=n.indexOf(")",s);a=n.indexOf(")",e+1),r=n.lastIndexOf("(",a)}const h={suggestions:t,context:"context-aggregation"};if(-1===r)return h;const u=n.slice(r+1,a).replace(/\[[^\]]+\]$/,""),c=(0,l.rV)(u,u.length-2).selector,p=await this.getSeries(c),g=Object.keys(p);if(g.length>0){const e=(0,l.ZO)(g);t.push({label:`Labels${e}`,items:g.map(f),searchFunctionType:o.SearchFunctionType.Fuzzy})}return h})),u(this,"getLabelCompletionItems",(async({text:e,wrapperClasses:t,labelKey:s,value:i})=>{if(!i)return{suggestions:[]};const r=[],a=i.anchorBlock.getText(),h=i.selection.anchor.offset,u=a.substr(h),p=a.substr(0,h),g=e.match(/^(=|=~|!=|!~)/),m=u.match(/^"?[,}]|$/),d=p.match(/(=|=~|!=|!~)$/)&&u.match(/^"/);if(!(g&&m)&&!(m&&!g)||d)return{suggestions:r};let v,y;try{y=(0,l.rV)(a,h),v=y.selector}catch{v="{}"}const b=v.includes("__name__="),x=y?y.labelKeys:[];let w,_={};if(v&&(_=await this.getSeries(v,!b)),0===Object.keys(_).length)return console.warn(`Server did not return any values for selector = ${v}`),{suggestions:r};if(e&&g||t.includes("attr-value")){if(s&&_[s]){w="context-label-values";const e=(0,l.ZO)(_[s]);r.push({label:`Label values for "${s}"${e}`,items:_[s].map(f),searchFunctionType:o.SearchFunctionType.Fuzzy})}}else{const e=_?Object.keys(_):b?null:c;if(e){const t=(0,n.difference)(e,x);if(t.length){w="context-labels";const e=t.map((e=>({label:e}))),s={label:`Labels${(0,l.ZO)(e)}`,items:e,searchFunctionType:o.SearchFunctionType.Fuzzy};r.push(s)}}}return{context:w,suggestions:r}})),u(this,"fetchLabelValues",(async e=>{const t=this.datasource.getTimeRangeParams(),s=`/api/v1/label/${e}/values`;return await this.request(s,[],t)})),u(this,"fetchSeriesLabels",(async(e,t)=>{const s=this.datasource.getTimeRangeParams(),n=Object.assign({},s,{"match[]":e}),i=`/api/v1/series?${new URLSearchParams({"match[]":e,start:(0,l.s4)(parseInt(s.start,10)).toString(),end:(0,l.s4)(parseInt(s.end,10)).toString(),withName:t?"true":"false"}).toString()}`;let r=this.labelsCache.get(i);if(!r){const e=await this.request("/api/v1/series",[],n),{values:s}=(0,l.DY)(e,t);r=s,this.labelsCache.set(i,r)}return r})),u(this,"fetchSeries",(async e=>{const t=this.datasource.getTimeRangeParams(),s=Object.assign({},t,{"match[]":e});return await this.request("/api/v1/series",{},s)})),u(this,"fetchDefaultSeries",(0,n.once)((async()=>{const e=await Promise.all(c.map((e=>this.fetchLabelValues(e))));return c.reduce(((t,s,n)=>Object.assign({},t,{[s]:e[n]})),{})}))),this.datasource=e,this.histogramMetrics=[],this.timeRange={start:0,end:0},this.metrics=[],Object.assign(this,t)}cleanText(e){return e.split(m).pop().trimLeft().replace(/"$/,"").replace(/^"/,"")}get syntax(){return h.ZP}getLabelKeys(){return this.labelKeys}getRangeCompletionItems(){return{context:"context-range",suggestions:[{label:"Range vector",items:[...h.Ty]}]}}async getSeries(e,t){if(this.datasource.lookupsDisabled)return{};try{return"{}"===e?await this.fetchDefaultSeries():await this.fetchSeriesLabels(e,t)}catch(e){return console.error(e),{}}}async getLabelValues(e){return await this.fetchLabelValues(e)}async fetchLabels(){const e=this.datasource.getTimeRangeParams();this.labelFetchTs=Date.now().valueOf();const t=await this.request("/api/v1/labels",[],e);return Array.isArray(t)&&(this.labelKeys=t.slice().sort()),[]}}},"./public/app/plugins/datasource/prometheus/language_utils.ts":(e,t,s)=>{s.d(t,{NO:()=>a,DY:()=>o,V2:()=>l,aw:()=>h,rV:()=>u,ll:()=>c,I4:()=>p,o8:()=>f,s4:()=>g,ZO:()=>d,U9:()=>y,tU:()=>b});var n=s("./public/app/plugins/datasource/prometheus/add_label_to_query.ts"),i=s("./public/app/plugins/datasource/prometheus/language_provider.ts");const r=["__name__"];const a=e=>{const t=new Set,s=new RegExp("_bucket($|:)");for(let n=0;n<e.length;n++){const i=e[n];s.test(i)&&t.add(i)}return[...t]};function o(e,t=!1){const s={};e.forEach((e=>{const{__name__:n}=e,i=function(e,t){if(null==e)return{};var s,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,r);t&&(s.__name__=s.__name__||new Set,s.__name__.has(n)||s.__name__.add(n)),Object.keys(i).forEach((e=>{s[e]||(s[e]=new Set),s[e].has(i[e])||s[e].add(i[e])}))}));const n={};return m(Object.keys(s)).forEach((e=>{n[e]=m(Array.from(s[e]))})),{values:n,keys:Object.keys(n)}}const l=/\{[^}]*?(\}|$)/,h=/\b(\w+)(!?=~?)("[^"\n]*?")/g;function u(e,t=1){if(!e.match(l)){if(e.match(/^[A-Za-z:][\w:]*$/))return{selector:`{__name__="${e}"}`,labelKeys:["__name__"]};throw new Error("Query must contain a selector: "+e)}const s=e.slice(0,t),n=s.lastIndexOf("{"),i=s.lastIndexOf("}");if(-1===n)throw new Error("Not inside selector, missing open brace: "+s);if(i>-1&&i>n)throw new Error("Not inside selector, previous selector already closed: "+s);const r=e.slice(t),a=r.indexOf("}")+t,o=r.indexOf("{"),u=o+t;if(-1===a)throw new Error("Not inside selector, missing closing brace in suffix: "+r);if(o>-1&&u<a)throw new Error("Not inside selector, next selector opens before this one closed: "+r);const c=e.slice(n,a),p={};c.replace(h,((s,n,i,r)=>{const a=e.indexOf(s),o=a+n.length+i.length+1,l=a+n.length+i.length+r.length-1;return(t<o||t>l)&&(p[n]={value:r,operator:i}),""}));const f=e.slice(0,n).match(/[A-Za-z:][\w:]*$/);f&&(p.__name__={value:`"${f[0]}"`,operator:"="});const g=Object.keys(p).sort(),m=g.map((e=>`${e}${p[e].operator}${p[e].value}`)).join(",");return{labelKeys:g,selector:["{",m,"}"].join("")}}function c(e,t){const s=Object.keys(t),i=new RegExp(`(\\s|^)(${s.join("|")})(\\s|$|\\(|\\[|\\{)`,"ig"),r=e.replace(i,((e,s,n,i)=>`${s}${t[n]}${i}`)).split(/(\+|\-|\*|\/|\%|\^)/),a=/(\)\{|\}\{|\]\{)/,o=r.map((e=>function(e,t){var s;const i=e.match(t);if(!i)return e;const r=null!==(s=i.index)&&void 0!==s?s:0,a=e.substr(0,r+1),o=e.substr(r+1),l=[];o.replace(h,((e,t,s,n)=>(l.push({key:t,operator:s,value:n}),"")));let u=a;return l.filter(Boolean).forEach((e=>{const t=e.value.substr(1,e.value.length-2);u=(0,n.F2)(u,e.key,t,e.operator)})),u}(e,a)));return o.join("")}function p(e){if(!e)return e;const t={},s={};for(const n in e){const i=e[n][0];t[n]=i,"histogram"===i.type&&(s[`${n}_bucket`]={type:"counter",help:`Cumulative counters for the observation buckets (${i.help})`},s[`${n}_count`]={type:"counter",help:`Count of events that have been observed for the histogram metric (${i.help})`},s[`${n}_sum`]={type:"counter",help:`Total sum of all observed values for the histogram metric (${i.help})`}),"summary"===i.type&&(s[`${n}_count`]={type:"counter",help:`Count of events that have been observed for the base metric (${i.help})`},s[`${n}_sum`]={type:"counter",help:`Total sum of all observed values for the base metric (${i.help})`})}const n={ALERTS:{type:"counter",help:"Time series showing pending and firing alerts. The sample value is set to 1 as long as the alert is in the indicated active (pending or firing) state."}};return Object.assign({},t,s,n)}function f(e){return g(e/1e3)}function g(e){return Math.floor(e/60)}function m(e){return e.slice(0,i.ZK)}function d(e){return e&&e.length>=i.ZK?`, limited to the first ${i.ZK} received items`:""}const v=/[*+?()|\\.\[\]{}^$]/g;function y(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function b(e){return y(e.replace(v,"\\$&"))}},"./.yarn/__virtual__/react-use-virtual-ca2705900f/3/opt/drone/yarncache/react-use-npm-17.2.4-c702db5427-3c885c3798.zip/node_modules/react-use/esm/usePrevious.js":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("../../opt/drone/yarncache/react-npm-17.0.1-98658812fc-83b9df9529.zip/node_modules/react/index.js");function i(e){var t=(0,n.useRef)();return(0,n.useEffect)((function(){t.current=e})),t.current}},"../../opt/drone/yarncache/lru-cache-npm-6.0.0-b4c8668fe1-f97f499f89.zip/node_modules/lru-cache/index.js":(e,t,s)=>{const n=s("../../opt/drone/yarncache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/yallist.js"),i=Symbol("max"),r=Symbol("length"),a=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),h=Symbol("dispose"),u=Symbol("noDisposeOnSet"),c=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),g=()=>1;const m=(e,t,s)=>{const n=e[p].get(t);if(n){const t=n.value;if(d(e,t)){if(y(e,n),!e[o])return}else s&&(e[f]&&(n.value.now=Date.now()),e[c].unshiftNode(n));return t.value}},d=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const s=Date.now()-t.now;return t.maxAge?s>t.maxAge:e[l]&&s>e[l]},v=e=>{if(e[r]>e[i])for(let t=e[c].tail;e[r]>e[i]&&null!==t;){const s=t.prev;y(e,t),t=s}},y=(e,t)=>{if(t){const s=t.value;e[h]&&e[h](s.key,s.value),e[r]-=s.length,e[p].delete(s.key),e[c].removeNode(t)}};class b{constructor(e,t,s,n,i){this.key=e,this.value=t,this.length=s,this.now=n,this.maxAge=i||0}}const x=(e,t,s,n)=>{let i=s.value;d(e,i)&&(y(e,s),e[o]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||g;if(this[a]="function"!=typeof t?g:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[h]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=g),e!==this[a]&&(this[a]=e,this[r]=0,this[c].forEach((e=>{e.length=this[a](e.value,e.key),this[r]+=e.length}))),v(this)}get lengthCalculator(){return this[a]}get length(){return this[r]}get itemCount(){return this[c].length}rforEach(e,t){t=t||this;for(let s=this[c].tail;null!==s;){const n=s.prev;x(this,e,s,t),s=n}}forEach(e,t){t=t||this;for(let s=this[c].head;null!==s;){const n=s.next;x(this,e,s,t),s=n}}keys(){return this[c].toArray().map((e=>e.key))}values(){return this[c].toArray().map((e=>e.value))}reset(){this[h]&&this[c]&&this[c].length&&this[c].forEach((e=>this[h](e.key,e.value))),this[p]=new Map,this[c]=new n,this[r]=0}dump(){return this[c].map((e=>!d(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[c]}set(e,t,s){if((s=s||this[l])&&"number"!=typeof s)throw new TypeError("maxAge must be a number");const n=s?Date.now():0,o=this[a](t,e);if(this[p].has(e)){if(o>this[i])return y(this,this[p].get(e)),!1;const a=this[p].get(e).value;return this[h]&&(this[u]||this[h](e,a.value)),a.now=n,a.maxAge=s,a.value=t,this[r]+=o-a.length,a.length=o,this.get(e),v(this),!0}const f=new b(e,t,o,n,s);return f.length>this[i]?(this[h]&&this[h](e,t),!1):(this[r]+=f.length,this[c].unshift(f),this[p].set(e,this[c].head),v(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!d(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[c].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let s=e.length-1;s>=0;s--){const n=e[s],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach(((e,t)=>m(this,t,!1)))}}},"../../opt/drone/yarncache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/iterator.js":e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},"../../opt/drone/yarncache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/yallist.js":(e,t,s)=>{function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var s=0,i=arguments.length;s<i;s++)t.push(arguments[s]);return t}function i(e,t,s){var n=t===e.head?new o(s,null,t,e):new o(s,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function r(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,s,n){if(!(this instanceof o))return new o(e,t,s,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}e.exports=n,n.Node=o,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,s=e.prev;return t&&(t.prev=s),s&&(s.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=s),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var s=this.head,n=0;null!==s;n++)e.call(t,s.value,n,this),s=s.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var s=this.tail,n=this.length-1;null!==s;n--)e.call(t,s.value,n,this),s=s.prev},n.prototype.get=function(e){for(var t=0,s=this.head;null!==s&&t<e;t++)s=s.next;if(t===e&&null!==s)return s.value},n.prototype.getReverse=function(e){for(var t=0,s=this.tail;null!==s&&t<e;t++)s=s.prev;if(t===e&&null!==s)return s.value},n.prototype.map=function(e,t){t=t||this;for(var s=new n,i=this.head;null!==i;)s.push(e.call(t,i.value,this)),i=i.next;return s},n.prototype.mapReverse=function(e,t){t=t||this;for(var s=new n,i=this.tail;null!==i;)s.push(e.call(t,i.value,this)),i=i.prev;return s},n.prototype.reduce=function(e,t){var s,n=this.head;if(arguments.length>1)s=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,s=this.head.value}for(var i=0;null!==n;i++)s=e(s,n.value,i),n=n.next;return s},n.prototype.reduceReverse=function(e,t){var s,n=this.tail;if(arguments.length>1)s=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,s=this.tail.value}for(var i=this.length-1;null!==n;i--)s=e(s,n.value,i),n=n.prev;return s},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,s=this.head;null!==s;t++)e[t]=s.value,s=s.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,s=this.tail;null!==s;t++)e[t]=s.value,s=s.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var s=new n;if(t<e||t<0)return s;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,r=this.head;null!==r&&i<e;i++)r=r.next;for(;null!==r&&i<t;i++,r=r.next)s.push(r.value);return s},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var s=new n;if(t<e||t<0)return s;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,r=this.tail;null!==r&&i>t;i--)r=r.prev;for(;null!==r&&i>e;i--,r=r.prev)s.push(r.value);return s},n.prototype.splice=function(e,t,...s){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var a=[];for(n=0;r&&n<t;n++)a.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<s.length;n++)r=i(this,r,s[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,s=e;null!==s;s=s.prev){var n=s.prev;s.prev=s.next,s.next=n}return this.head=t,this.tail=e,this};try{s("../../opt/drone/yarncache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/iterator.js")(n)}catch(e){}}}]);
//# sourceMappingURL=2762.1f65f885c5a67f13d9d6.js.map